<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Main Menu</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .fade-in { animation: fadeIn 0.6s ease forwards; }
    .fade-out { animation: fadeOut 0.6s ease forwards; }
    @keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
    @keyframes fadeOut { from { opacity: 1 } to { opacity: 0 } }

    /* Optional: hormati preferensi pengguna */
    @media (prefers-reduced-motion: reduce) {
      .fade-in, .fade-out { animation: none !important; }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a192f] to-[#112240]">

  <!-- Card -->
  <div id="card"
       class="w-80 p-6 rounded-2xl backdrop-blur-md bg-white/10 shadow-lg flex flex-col items-center gap-6 opacity-0">
    <h1 class="text-2xl font-bold text-white tracking-wide">MAIN MENU</h1>

    <div class="flex flex-col w-full gap-4">
      <button onclick="navigate('/ksb')"
              class="w-full py-3 bg-blue-900 text-white font-bold rounded-xl hover:bg-blue-700 focus:outline-none focus:ring focus:ring-white/20 transition uppercase">
        KSB
      </button>
      <button disabled onclick="navigate('/hadana')"
              class="w-full py-3 bg-blue-900 text-white font-bold rounded-xl hover:bg-blue-700 focus:outline-none focus:ring focus:ring-white/20 transition uppercase">
        HADANA
      </button>
      <button onclick="navigate('/his')"
              class="w-full py-3 bg-blue-900 text-white font-bold rounded-xl hover:bg-blue-700 focus:outline-none focus:ring focus:ring-white/20 transition uppercase">
        HIS
      </button>
      <button onclick="navigate('/hac')"
      class="w-full py-3 bg-blue-900 text-white font-bold rounded-xl hover:bg-blue-700 focus:outline-none focus:ring focus:ring-white/20 transition uppercase">
HAC
</button>
    </div>
  </div>

  <script>
    const card = document.getElementById('card');
    let transitioning = false;

    function playEnter(el) {
      // Reset state dulu supaya animasi bisa diputar ulang
      el.classList.remove('fade-in', 'fade-out');
      // Paksa reflow agar restart animasi konsisten di semua browser
      void el.offsetWidth;
      // Pastikan tidak tetap tersembunyi
      el.classList.remove('opacity-0');
      el.classList.add('fade-in');
    }

    // Saat pertama load
    window.addEventListener('DOMContentLoaded', () => playEnter(card));
    // Saat kembali dari history/back (bfcache restore)
    window.addEventListener('pageshow', () => playEnter(card));

    function navigate(page) {
      if (transitioning) return;
      transitioning = true;
      card.classList.remove('fade-in');
      card.classList.add('fade-out');

      // Matikan klik ganda saat transisi
      document.body.style.pointerEvents = 'none';

      setTimeout(() => {
        window.location.href = page + '.html';
      }, 600);
    }
  </script>
</body>
</html>

